import{_ as o,c as a,o as t,a2 as i}from"./chunks/framework.CAeRsQAW.js";const c=JSON.parse('{"title":"Using Modules","description":"Learn, how you can provide your own custom node modules to the QuickJS runtime","frontmatter":{"title":"Using Modules","description":"Learn, how you can provide your own custom node modules to the QuickJS runtime","order":40},"headers":[],"relativePath":"docs/module-resolution/index.md","filePath":"docs/module-resolution/index.md","lastUpdated":1740685031000}'),s={name:"docs/module-resolution/index.md"};function l(r,e,n,d,u,h){return t(),a("div",null,e[0]||(e[0]=[i('<h1 id="using-modules" tabindex="-1">Using Modules <a class="header-anchor" href="#using-modules" aria-label="Permalink to “Using Modules”">​</a></h1><p>JavaScript and TypeScript code often relies on modules to provide functionality. In general, modules can be used normally with the <code>import</code> statement.</p><p>This library includes a set of modules intended to be as compatible as possible with the Node.js API. However, full compatibility is not guaranteed. In particular, not all Node.js modules are available. For more details, see <a href="./node-compatibility.html">Node Compatibility</a>.</p><h2 id="path-normalizer" tabindex="-1">Path Normalizer <a class="header-anchor" href="#path-normalizer" aria-label="Permalink to “Path Normalizer”">​</a></h2><p>The path normalizer determines the location of a module to be imported.</p><p>It takes two input parameters:</p><ol><li>The location of the file containing the import statement.</li><li>The requested import path.</li></ol><p>This allows it to resolve relative paths and rewrite imports as needed.</p><p>The normalized path is then passed as input to the module loader.</p><h2 id="module-loaders" tabindex="-1">Module Loaders <a class="header-anchor" href="#module-loaders" aria-label="Permalink to “Module Loaders”">​</a></h2><p>Module loaders are responsible for retrieving the content (source code) of an imported module.</p><h3 id="default-synchronous" tabindex="-1">Default (Synchronous) <a class="header-anchor" href="#default-synchronous" aria-label="Permalink to “Default (Synchronous)”">​</a></h3><p>The standard runtime does not support asynchronous module loading. This means that asynchronous functions like <code>fetch</code> cannot be used within the module loader.</p><p>As a result, dynamic imports at runtime—e.g., from <a href="https://esm.sh/" target="_blank" rel="noreferrer">esm.sh</a> or similar services—are not possible.</p><p>Additionally, the standard module loader is a simple implementation that reads modules from the virtual file system.</p><h4 id="limitations" tabindex="-1">Limitations <a class="header-anchor" href="#limitations" aria-label="Permalink to “Limitations”">​</a></h4><ul><li>Modules do not have access to native functions.</li><li>Modules must be plain JavaScript.</li><li>Relative imports within a single module are not supported (though modules can still import other modules).</li><li>The <code>package.json</code> file is not used: <ul><li>Determining the root file via <code>package.json</code> is not supported.</li><li>Module (sub-)dependencies are not automatically installed or handled.</li><li>Modules with multiple exports defined in <code>package.json</code> must be managed manually.</li></ul></li><li>Only a small subset of Node.js core modules is available, so not every module will work out of the box.</li></ul><p>These limitations mean that all required modules must be available beforehand, and the module file structure must be straightforward.</p><h3 id="asynchronous" tabindex="-1">Asynchronous <a class="header-anchor" href="#asynchronous" aria-label="Permalink to “Asynchronous”">​</a></h3><p>This library supports asynchronous module loading — see <a href="https://github.com/justjake/quickjs-emscripten?tab=readme-ov-file#asyncify" target="_blank" rel="noreferrer">github.com/justjake/quickjs-emscripten</a>.</p><p>The asynchronous variant allows the module loader to function asynchronously, enabling dynamic dependency loading at runtime from sources such as <a href="https://esm.sh/" target="_blank" rel="noreferrer">esm.sh</a> or similar services.</p>',21)]))}const p=o(s,[["render",l]]);export{c as __pageData,p as default};
